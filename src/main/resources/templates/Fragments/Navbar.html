<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
</head>
<body>
<div th:fragment="navbar">
    <nav aria-label="main navigation" class="navbar is-light py-3 " role="navigation">
        <!--/*@thymesVar id="cart" type="se.joeldegerman.javaeewebshop.models.viewmodels.CartViewModel"*/-->
        <!--/*@thymesVar id="nameofuser" type="java.lang.String"*/-->
        <!--/*@thymesVar id="isAdmin" type="java.lang.Boolean"*/-->
        <!--/*@thymesVar id="useCart" type="java.lang.Boolean"*/-->
        <div class="navbar-menu">
            <div class="navbar-brand">
                <div class="navbar-item">
                    <a href="/">
                        <div class="has-background-dark box p-3" style="opacity: 0.9">
                            <p class="title has-text-weight-light has-text-light" id="logo">E-Commerce</p>
                        </div>
                    </a>
                </div>
            </div>
            <div class="navbar-end">
                <div class="navbar-item" sec:authorize="${isAuthenticated()}">
                    <a href="/cart">
                        <div class="cart-icon-container">
                            <i class="fas fa-shopping-cart"></i>
                            <div class="cart-blue-dot" hidden></div>
                        </div>
                    </a>
                </div>
                <div class="navbar-item">
                    <a href="/cart">

                    </a>
                </div>
                <div class="navbar-item">
                    <div class="buttons" sec:authorize="isAnonymous()">
                        <a class="button is-info" href="/login">
                            Login
                        </a>
                        <a class="button is-success" href="/signup">
                            <strong>Signup</strong>
                        </a>
                    </div>
                    <div class="buttons" sec:authorize="isAuthenticated()">


                        <div class="mr-3 dropdown is-hoverable" sec:authorize="hasRole('ROLE_ADMIN')">
                            <div class="dropdown-trigger">
                                <button aria-controls="dropdown-menu" aria-haspopup="true" class="button is-dark">
                                    <span>Admin</span>
                                    <span class="icon is-small">
                                        <i aria-hidden="true" class="fas fa-angle-down">
                                        </i></span>
                                </button>
                            </div>
                            <div class="dropdown-menu" id="dropdown-menu" role="menu">
                                <div class="dropdown-content">
                                    <a class="dropdown-item" href="/admin/product/all">
                                        Products
                                    </a>
                                    <a class="is-info dropdown-item" href="/admin/order/all">
                                        Orders
                                    </a><a class="is-info dropdown-item" href="/admin/category/all">
                                    Category
                                </a>
                                </div>
                            </div>

                        </div>
                        <a class="button is-info" href="/profile">
                            My Profile
                        </a>
                        <form method="post" th:action="@{/logout}">
                            <button class="button is-danger" type="submit">Logout</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

</body>
</html>
